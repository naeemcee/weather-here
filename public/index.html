<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <link rel="stylesheet" href="./styles.css" />

    <title>Weather & Air Quality</title>
  </head>
  <body>
    <div class="container">
      <h1>The Weather Here Log</h1>
      <!-- <p>A log book of Weather and Air Quality data from around the world</p> -->
      <p>Add your local Weather and Air-quality data to the <em>Weather-here</em> log</p>

      <div class="data-div">
        <p>
          City / Area: <span class="status" id="city"></span>
          <span id="lat"></span>
          <span id="lon"></span>
        </p>
        <p>
          <span id="temp"></span>
          <span id="cond"></span>
        </p>
        <p>
          <span id="aqi"></span>
        </p>
      </div>
      <br>
      <a class="btn" id="check-in" href="">Add to log </a>
      <a class="btn" href="./checkins/index.html">View log</a>
      <div id="map"></div>
      <br />
      <hr />
      <details>
        <summary>How it works</summary>
        <ul>
          <li>
            Developed as a full-stack solution; a client side and a node server
            back-end.
          </li>
          <li>
            Client gets geo coordinates via browser navigator call and sends the
            location data to the backend to lookup weather and air-quality data.
          </li>
          <li>
            Backend makes two API calls; for Weather and for Air Quality data
            respectively, and sends it back to client.
          </li>
          <li>
            Client plots the location on a Leaflet.js map and displays the
            weather and air-quality on the map.
          </li>
          <li>
            If the client clicks the 'add to log' button, server adds the
            weather and air-quality data to the logbook database, using
            Node-Nedb library. Only the lastest entry for a particular location is maintained in the database.
          </li>
          <li>
            Client can look at all logbook entries captured so far by clicking on the 'View
            log' button.
          </li>
          <li>
            Database entries are sent to client to be displayed in a table as well as plotted on a Leaflet
            map with tooltip loaded with the details.
          </li>
        </ul>
      </details>
    </div>
    <script src="./main.js"></script>
  </body>
</html>
